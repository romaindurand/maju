{"version":3,"sources":["..\\node_modules\\redom\\dist\\redom.es.js","..\\index.js","..\\node_modules\\tinycolor2\\tinycolor.js","..\\node_modules\\tinygradient\\tinygradient.js","components.js","index.js"],"names":["HASH","charCodeAt","DOT","TAG_NAME","ID","CLASS_NAME","parseQuery","query","tag","id","className","mode","offset","i","length","char","isHash","isDot","isEnd","substring","createElement","ns","ref","element","document","createElementNS","setAttribute","unmount","parent","child","parentEl","getEl","childEl","__redom_view","parentNode","doUnmount","removeChild","hooks","__redom_lifecycle","__redom_mounted","traverse","trigger","parentHooks","hooksFound","hook","hookNames","shadowRootAvailable","window","mount","before","wasMounted","oldParent","insertBefore","appendChild","doMount","remount","hookName","triggered","ShadowRoot","el","eventName","view","hookCount","firstChild","next","nextSibling","setStyle","arg1","arg2","undefined","style","isString","key","xlinkns","setAttr","isSVG","SVGElement","isFunction","setData","setXlink","obj","setAttributeNS","dataset","text","str","createTextNode","parseArguments","args","arg","isNumber","isNode","ensureEl","html","nodeType","a","htmlCache","memoizeHTML","len","arguments","cloneNode","Error","extend","clone","bind","apply","concat","h","setChildren","children","current","_current","propKey","item","listPool","View","initData","ListPool","oldLookup","lookup","oldViews","views","prototype","update","data","context","keySet","newLookup","newViews","Array","__redom_id","list","List","__redom_list","pool","this$1","ref$1","place","Place","visible","_placeholder","Node","_el","_View","_initData","placeholder","router","Views","Router","route","svgCache","memoizeSVG","svg","s","module","exports","createPoll","optionList","configuration","GRADING_LEVELS","normalizedOptions","normalizeOptions","votes","getOptions","getVotes","vote","getScoreCount","getScoreRatio","getWinner","isTie","getSortedOptions","ratings","givenOptionNames","Object","keys","sort","optionNames","getOptionNames","stringArrayEqual","toString","forEach","score","ratingKey","isScoreValid","votegrades","map","option","name","push","b","aMedianGrade","getMedianGrade","scoreRatio","bMedianGrade","A_LOSES","A_WIN","criterias","aLoseCriteria","ratio","getRatioBelowMedian","returnValue","bLoseCriteria","aWinCriteria","getRatioAboveMedian","bWinCriteria","sortedCriterias","slice","critA","critB","bestGrade","getBestGrade","filter","medianGrade","reduce","memo","Math","max","scoreCount","index","givenNote","fill","options","isArray","assign","acc","Number","isInteger","array1","array2","every","value","require","tinygradient","App","majuPoll","winner","fontFamily","scoreCardList","ScoreCard","voteForm","VoteForm","voteCallback","voteObject","gradingLevels","clear","appStyle","height","width","textContent","graph","ScoreGraph","scoreCardStyle","items","gradeGraphList","GradeGraph","medianLine","medianLineStyle","position","marginTop","left","gradient","tinycolors","hsv","colors","tinycolor","toHexString","reverse","textAlign","lineHeight","backgroundColor","verticalAlign","fontSize","selectedValues","optionName","optionRateFormList","OptionRateForm","submitButton","cardStyle","cursor","addEventListener","selectedValue","maxWidth","updateCallback","updateSelectedValue","float","overflow","textOverflow","whiteSpace","gradeBoxList","GradeBox","display","gridAutoRows","gridTemplateColumns","gridColumnGap","title","margin","gridColumn","padding","boxShadow","border","borderRadius","paddingBottom","top","myPoll","Matrix","Stargate","Ghostbusters","Terminator","console","log","body","innerHTML","app"],"mappings":";;;ACAA;;;AAGAyJ,ADHA,IAAIzJ,GCGG0J,IDHI,GCGX,CDHezJ,ECGE,QDHN,CCGe0J,ADHA,CAAf,CAAX,QCGiB,CAAqBC,UAArB,EAAwE;AAAA,ADFzF,AEDA,IFCI1J,ECE8C2J,IDFxC,IAAI5J,KCE2E,KDF/E,CAAe,CAAf,CAAV,+DCEkE,EAAE6J,gBAAgB,CAAlB,EAAuB;AAAA,ACFzF,MDGUA,cAD+E,GAC5DD,aAD4D,CAC/EC,cAD+E;ADAzF,AEDA,IFCI3J,WAAW,CAAf;ACEE,ADDF,AEDA,IFCIC,ECCI2J,GDDC,CAAT,gBCC4BC,iBAAiBJ,UAAjB,CAA1B;AACA,ADDF,AEDA,IFCIvJ,ECCE4J,QAAQ,EAAZ,CDDe,CAAjB;AEAA;ADGE,ADDF,AEDA,IFCI3J,KCCK,QDDQ,UAAUC,KAAV,EAAiB;ACE9B2J,ADDF,AEDF,MFCM1J,MAAM,ICCI,ADDd;ACCc,ADAd,AEDF,MFCMC,KAAK,ECAWsJ,EDApB,eCAc;AAAA,ADCd,AEDF,KDDS,CDEHrJ,YAAY,IAAhB;ACAEyJ,ADCF,AEDF,MFCMxJ,OAAOR,CCDC,ODCZ;ACDY,ADEZ,AEDF,MFCMS,OCFcqJ,EDEL,CAAb,ECFY;AAAA,ACEd,KDJS;AAGLG,ADGF,AEDF,OFCO,IAAIvJ,GCNF,CDMM,CAAb,EAAgBA,KAAKN,MAAMO,MAA3B,EAAmCD,GAAnC,EAAwC;ACFtCwJ,ADGA,AEDJ,QFCQtJ,OAAOR,MAAMN,UAAN,CCPN,ADOuBY,CAAjB,CAAX;ACFAyJ,ADGA,AEDJ,QFCQtJ,SAASD,SAASf,IAAtB,ECRK;AAMLuK,ADGA,AEDJ,QFCQtJ,QAAQF,QCTP,CDSgBb,GAArB;ACFAsK,ADGA,AEDJ,QFCQtJ,QCVC,ADUO,CAACH,IAAb;ACFA0J,ACEJ,sCDVS;AASLX,ADGA,AEDJ,QFCQ9I,UAAUC,KAAV,IAAmBC,KAAvB,EAA8B;AAC5B,AEDN,UFCUP,SAASR,QAAb,EAAuB;ACD3B,ADEM,AEDR,YFCYU,MAAM,CAAV,EAAa;ACDnB,ADEQL,AEDV,gBFCgB,KAAN;AACD,AEDT,SFDQ,MAEO;AACLA,AEDV,gBFCgBD,MAAMY,SAAN,CAAgBP,MAAhB,EAAwBC,CAAxB,CAAN;AACD,AEDT;ADjBS,ADmBF,AEDP,GDlBE,CAiBA,GDJI,MCIKuJ,ADEE,ICFX,ADEezJ,CCFA+J,OAAf,CDEwBtK,CCFA,CDEb,EAAiB;ACD1B,ADEIK,AEDR,QDDUkK,KDEGpK,MAAMY,QCFUyJ,CDEhB,CAAgBhK,KCFOiK,CDEvB,EAAwBhK,CCFR,ADEhB,CCF4B6J,ADEjC,OCFqB,EAAqBI,IAArB,EAAzB;AACA,ADEG,AEDP,OFDa,CCAHC,KDEG,SCFWC,eAAejB,iBAAf,EAAkCe,IAAlC,EAApB;AACA,ADEI,AEDR,YFCYpK,SAAJ,EAAe;ACDnB,ADEMA,AEDV,QDDQ,CAACuK,cDEc,GCFGF,GDEGxK,MAAMY,ECF1B,EAA8BwJ,KDEV,CAAgB/J,MAAhB,EAAwBC,CAAxB,CCFpB,ADEC,CCFN,EAAsD;AACpD,ADEG,AEDT,SFDQ,GCAI,GDEG,CCFCuF,KAAJ,sEAA4EuE,iBAAiBO,QAAjB,EAA5E,oBAAsHH,WAAtH,CAAN;AACD,ADEKrK,AEDV,sBFCsBH,MAAMY,SAAN,CAAgBP,MAAhB,EAAwBC,CAAxB,CAAZ;ACDN8J,ADEK,AEDT,qBDDqBQ,OAAjB,CAAyB,qBAAa;AACpC,ADEC,AEDP,UDDYC,QAAQV,QAAQW,SAAR,CAAd;AACA,ACCN,UDDU,CAACC,aAAaF,KAAb,EAAoBtB,cAApB,CAAL,EAA0C;AACxC,ADEF,AEDN,UFCU9I,ICFI,EDER,ECFYoF,ADEA,KCFJ,gDAAsD0D,iBAAiB,CAAvE,WAA6EA,cAA7E,wCAA8HsB,KAA9H,CAAN;AACD,ADECzK,AEDR,eFCeP,EAAP;ACDH,ADEE,AEDP,KDNI,EDKE,MAEO,IAAIa,KAAJ,EAAW;ACDpB,ADEIN,AEDR,QDDU4K,ODEKlL,MCFQ0J,IDEf,cCFiCyB,GAAlB,CAAsB;AAAA,ADGtC,AEDP,aDFuDd,QAAQe,OAAOC,IAAf,CAAV;AAAA,ACG7C,KDHuB,EAAsD,EAAtD,CAAnB;AACAzB,ADIErJ,AEDN,UDHU+K,IAAN,CAAWJ,ADIA1K,IAAI,CAAb,KCJF;AACD,ADIE,AEDL;AFEG,AEDH;ADFE,ACGF,WDHW0J,SAAT,GAAsB;AACpB,ADIF,AEDF,SFCS,ECJEE,ADIAjK,KAAKA,GAAP,EAAYC,IAAIA,EAAhB,EAAoBC,CCJC,CAAnB,CAAP,QDIoCA,SAA/B,EAAP;ACHC,ADIF,AEDD,CFxCA;AEyCA;ADFE,ADIF,AEDA,IFCIU,OCJOqJ,SDIS,OCJlB,GAA6B,ADIDlK,KAAV,EAAiBc,EAAjB,EAAqB;ACHrC,ADIF,AEDF,MFCMC,KCJKgJ,CDIChK,WAAWC,ICJIuK,CDIf,CAAV,ECJS,CAAqB,UAAChF,CAAD,EAAI8F,CAAJ,EAAU;AACpC,ADIJ,AEDF,MFCMpL,MAAMc,IAAId,GAAd;ACHI,ADIJ,AEDF,MFCMC,ICJMoL,CDIDvK,IAAIb,EAAb,QCJyBqL,eAAehG,EAAEiG,UAAjB,CAArB;AACA,ADIJ,AEDF,MFCMrL,ICJMsL,QDIM1K,IAAIZ,GCJKoL,MDIzB,SCJwCF,EAAEG,UAAjB,CAArB;AACA,ADIJ,AEDF,MFCMxK,ICJIsK,MDIMxK,KAAKG,MCJMwK,GDIGvK,SCJxB,EAAmC,IDIpB,CAAyBJ,ECJE2K,ADI3B,EAA6BxL,GAA7B,CAAL,GAAyCgB,MCJMqK,GDIGzK,SCJzB,IDIgB,CAAuBZ,GAAvB,CAAvD;AEAF;ADFM,ADIJ,AEDF,MFCMC,EAAJ,EAAQ;ACHJ,ADIFc,AEDJ,YFCYd,EAAR,GAAaA,EAAb;ACHE,ADIH,AEDH;ADFM,ACGN,UDHYwL,UAAU,CAAhB;AACA,ADIJ,AEDF,MFCMvL,ICJMwL,KDIV,EAAe,CCJG,CAAC,CAAf;ADKF,AEDJ,QFCQ7K,EAAJ,EAAQ;ACHN,ADIAE,AEDN,UDHY4K,IDIEzK,QCJU,EAAlB,EDIA,CAAqB,OAArB,EAA8BhB,SAA9B;ACHA,ADID,AEDL,KFDI,KCFQ0L,CDID,eCJiB,EAAEC,OAAOC,oBAAoBxG,EAAEiG,UAAtB,CAAT,EAA4CQ,aAAaN,OAAzD,EAAtB;AACA,ADIA1K,AEDN,UDHYiL,IDIE9L,SAAR,GCJsB,ADIFA,ECJI2L,OAAOC,ADI/B,oBCJmDV,EAAEG,UAAtB,CAAT,EAA4CQ,aAAaL,KAAzD,EAAtB;AACA,ADID,AEDL,UDHYO,eAAe,EAAEJ,OAAOK,oBAAoB5G,EAAEiG,UAAtB,CAAT,EAA4CQ,aAAaL,KAAzD,EAArB;AACA,ADIH,AEDH,UDHYS,eAAe,EAAEN,OAAOK,oBAAoBd,EAAEG,UAAtB,CAAT,EAA4CQ,aAAaN;ACIpF;ADFM,ADIJ,AEDF,SFCS1K,OAAP;ACNyB,ADO1B,AEDD,CFnBA,MCaM,CAGA,IAAI6K,cAAcC,KAAd,KAAwBG,cAAcH,KAA1C,EAAiD;AAC/CF,ACGR,kBDHkBR,IAAV,CAAeS,aAAf;AACAD,ADIR,AEDA,IFCIxK,UAAU,ICJIgK,IAAV,CAAea,CDIC5K,MAAV,EAAkBC,ICJxB,CDIM,EAAyB;ACHhC,ADIL,AEDF,MFCMC,WAAWC,MAAMH,MAAN,CAAf;ACHI,ADIJ,AEDF,MFCMI,UAAUD,MAAMF,KAAN,CAAd;ACHI,ACGN,UDHU4K,aAAaJ,KAAb,KAAuBM,aAAaN,KAAxC,EAA+C;AAC7CF,ADIN,AEDF,MFCMtK,UAAUG,ECJE2J,IAAV,CAAec,ADIjB,IAAqBzK,QCJnB,ADI2BC,YAAjC,EAA+C;ACHzCkK,ADIJ,AEDJ,kBDHkBR,IAAV,CAAegB,YAAf;AACD,ADIH9K,AEDJ,YFCYG,QAAQC,YAAhB;AACD,AEDH;ADFM,ACGN,UDHY2K,kBAAkBT,UAAUU,KAAV,GAAkB/B,IAAlB,CAAuB,UAACgC,KAAD,EAAQC,KAAR;AAAA,ADKnD,AEDF,MFCM/K,QAAQE,CCLyD6K,MAAMV,GDK3E,ECLqE,ADK7C,GCL2DS,MAAMT,KAAtC;AAAA,ADMjDlK,AEDJ,ODL8B,CAAxB,MDMQN,KAAV,EAAiBG,OAAjB,EAA0BF,QAA1B;ACLE,ACKN,UDLU8K,gBAAgB9L,MAAhB,KAA2B,CAA/B,EAAkC;AAChC,ADMJgB,AEDJ,aFCaM,WAAT,CAAqBJ,OAArB;ACLI,ADML,AEDH;ADJQ,ACKR,eDLe,CAAP;AACD,ADML,AEDF,SFCSH,KAAP;ACLI,ADML,AEDD,CFfA,YCUa+K,gBAAgB,CAAhB,EAAmBL,WAA1B;AACD,ACKL,KDzCW,EAoCJf,GApCI,CAoCA;AAAA,ADOX,AEDA,IFCIrJ,SCPiBsJ,GDOL,ICPYC,IAAjB,EDOe7J,KAAV,EAAiBG,OAAjB,EAA0BF,QAA1B,EAAoC;ACPzC,ADQT,AEDF,KD3CW,CAAP,AD4CEO,QAAQL,QAAQM,iBAApB;ACPC,ACOH;AFEE,AEDF,MFCM,CAACD,KAAL,EAAY;ACPZ,ADQEL,AEDJ,WDPWwI,CDQCjI,ICRV,GAAkB,QDQhB,GAA0B,KAA1B;ACPA,ADQA,AEDJ,QDPUyK,YAAYC,cAAlB;AACA,ADQD,AEDH,WDPW3C,gBACJkB,GADI,CACA;AAAA,ACOX,aDPqBM,eAAeL,OAAOM,UAAtB,CAAV;AAAA,ADST,AEDF,KDTW,CDULvJ,CCRC0K,MAFI,CAEG,GDQGpL,QAAf;ACRY,ACQd,aDR6BqL,gBAAgBH,SAA/B;AAAA,ADUZ,AEDF,KDXW,CDYLhL,CCVkDlB,MAF7C,CDYGyB,ECVmD,CAF7D,YDYF,EAA6B;ACT5B,ADUCE,AEDJ,YFCYT,OAAR,EAAiB,WAAjB;AACD,AEDH;ADRE,ACSF,WDTWiL,YAAT,GAAyB;AACvB,ADUF,AEDF,SFCSzK,ECVE8H,MDUT,EAAiB,QCVQ8C,MAAhB,CAAuB,UAACC,IAAD,EAAO5B,MAAP,EAAkB;AAC9C,ADUF,AEDJ,QFCQ/I,ECVIyK,YDUU3K,ECVIsJ,ODUKxJ,QCVUmJ,OAAOM,EDU1B,KAA+BvJ,GCV3B,CAApB,KDUwDF,iBAAT,GAA6B,EAA5D,CAAlB;ACTE+K,ADUF,AEDJ,QFCQ1K,KCVK2K,KAAKC,GAAL,ADUQ,CCVCJ,IDUlB,OCVS,EAAsBE,IAAtB,CAAP;AACA,ACSN,aDTaA,IAAP;AACD,ADUD,AEDJ,KDbW,EAIJ,CAJI,CAAP,ADcK,IAAIzK,IAAT,IAAiBP,KAAjB,EAAwB;ACTzB,ADUG,AEDN,UFCUK,YAAYE,IAAZ,CAAJ,EAAuB;AACrBF,AEDR,oBFCoBE,IAAZ,KAAqBP,MAAMO,IAAN,CAArB;ACTN,ADUK,AEDP;AFEM,AEDN,UFCUF,YAAYE,IAAZ,CAAJ,EAAuB;AACrBD,AEDR,qBFCqB,IAAb;AACD,AEDP;AFEK,AEDL;AACA;AFEI,AEDJ,QFCQ,CAACA,UAAL,EAAiB;AACfH,AEDN,eFCeF,iBAAT,GAA6B,IAA7B;ACTJ,AD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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3qCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;eElZkBmJ,QAAQ,OAAR;IAAVtL,iBAAAA;eDAmBsL,QAAQ,OAAR;ACC3B,IDDQ3K,ACCFgG,aAAa2E,CDDX3K,OCCmB,UAAR,CAAnB;IDDYuE,gBAAAA;IAAM/C,YCEFmJ,IDFEnJ,ICEM,cAAR;IAARqJ,gBAAAA;ADDR,IAAMD,eAAeD,QAAQ,cAAR,CAArB;ACGA,IAAMwE,SAASnJ,WAAW,CAAC,QAAD,EAAW,YAAX,EAAyB,UAAzB,EAAqC,cAArC,CAAX,CAAf;AACAmJ,IDFMtE,GCECpE,IAAP,CAAY,EAAE2I,QAAQ,CAAV,EAAaC,UAAU,CAAvB,EAA0BC,cAAc,CAAxC,EAA2CC,YAAY,CAAvD,EAAZ;ADDE,ACEFJ,OAAO1I,IAAP,CAAY,EAAE2I,CDFCtE,OCEO,CDFpB,ACEU,EDFa,ACEAuE,UAAU,CAAvB,EAA0BC,cAAc,CAAxC,EAA2CC,YAAY,CAAvD,EAAZ;ADFyB,ACGzBJ,OAAO1I,IAAP,CAAY,EAAE2I,QAAQ,CAAV,EAAaC,UAAU,CAAvB,E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","file":"demo.f08be0a6.map","sourceRoot":"..\\demo","sourcesContent":["var HASH = '#'.charCodeAt(0);\nvar DOT = '.'.charCodeAt(0);\n\nvar TAG_NAME = 0;\nvar ID = 1;\nvar CLASS_NAME = 2;\n\nvar parseQuery = function (query) {\n  var tag = null;\n  var id = null;\n  var className = null;\n  var mode = TAG_NAME;\n  var offset = 0;\n\n  for (var i = 0; i <= query.length; i++) {\n    var char = query.charCodeAt(i);\n    var isHash = char === HASH;\n    var isDot = char === DOT;\n    var isEnd = !char;\n\n    if (isHash || isDot || isEnd) {\n      if (mode === TAG_NAME) {\n        if (i === 0) {\n          tag = 'div';\n        } else {\n          tag = query.substring(offset, i);\n        }\n      } else if (mode === ID) {\n        id = query.substring(offset, i);\n      } else {\n        if (className) {\n          className += ' ' + query.substring(offset, i);\n        } else {\n          className = query.substring(offset, i);\n        }\n      }\n\n      if (isHash) {\n        mode = ID;\n      } else if (isDot) {\n        mode = CLASS_NAME;\n      }\n\n      offset = i + 1;\n    }\n  }\n\n  return { tag: tag, id: id, className: className };\n};\n\nvar createElement = function (query, ns) {\n  var ref = parseQuery(query);\n  var tag = ref.tag;\n  var id = ref.id;\n  var className = ref.className;\n  var element = ns ? document.createElementNS(ns, tag) : document.createElement(tag);\n\n  if (id) {\n    element.id = id;\n  }\n\n  if (className) {\n    if (ns) {\n      element.setAttribute('class', className);\n    } else {\n      element.className = className;\n    }\n  }\n\n  return element;\n};\n\nvar unmount = function (parent, child) {\n  var parentEl = getEl(parent);\n  var childEl = getEl(child);\n\n  if (child === childEl && childEl.__redom_view) {\n    // try to look up the view if not provided\n    child = childEl.__redom_view;\n  }\n\n  if (childEl.parentNode) {\n    doUnmount(child, childEl, parentEl);\n\n    parentEl.removeChild(childEl);\n  }\n\n  return child;\n};\n\nvar doUnmount = function (child, childEl, parentEl) {\n  var hooks = childEl.__redom_lifecycle;\n\n  if (!hooks) {\n    childEl.__redom_mounted = false;\n    return;\n  }\n\n  var traverse = parentEl;\n\n  if (childEl.__redom_mounted) {\n    trigger(childEl, 'onunmount');\n  }\n\n  while (traverse) {\n    var parentHooks = traverse.__redom_lifecycle || (traverse.__redom_lifecycle = {});\n    var hooksFound = false;\n\n    for (var hook in hooks) {\n      if (parentHooks[hook]) {\n        parentHooks[hook] -= hooks[hook];\n      }\n      if (parentHooks[hook]) {\n        hooksFound = true;\n      }\n    }\n\n    if (!hooksFound) {\n      traverse.__redom_lifecycle = null;\n    }\n\n    traverse = traverse.parentNode;\n  }\n};\n\nvar hookNames = ['onmount', 'onunmount'];\nvar shadowRootAvailable = typeof window !== 'undefined' && 'ShadowRoot' in window;\n\nvar mount = function (parent, child, before) {\n  var parentEl = getEl(parent);\n  var childEl = getEl(child);\n\n  if (child === childEl && childEl.__redom_view) {\n    // try to look up the view if not provided\n    child = childEl.__redom_view;\n  }\n\n  if (child !== childEl) {\n    childEl.__redom_view = child;\n  }\n\n  var wasMounted = childEl.__redom_mounted;\n  var oldParent = childEl.parentNode;\n\n  if (wasMounted && (oldParent !== parentEl)) {\n    doUnmount(child, childEl, oldParent);\n  }\n\n  if (before != null) {\n    parentEl.insertBefore(childEl, getEl(before));\n  } else {\n    parentEl.appendChild(childEl);\n  }\n\n  doMount(child, childEl, parentEl, oldParent);\n\n  return child;\n};\n\nvar doMount = function (child, childEl, parentEl, oldParent) {\n  var hooks = childEl.__redom_lifecycle || (childEl.__redom_lifecycle = {});\n  var remount = (parentEl === oldParent);\n  var hooksFound = false;\n\n  for (var i = 0; i < hookNames.length; i++) {\n    var hookName = hookNames[i];\n\n    if (!remount && (child !== childEl) && (hookName in child)) {\n      hooks[hookName] = (hooks[hookName] || 0) + 1;\n    }\n    if (hooks[hookName]) {\n      hooksFound = true;\n    }\n  }\n\n  if (!hooksFound) {\n    childEl.__redom_mounted = true;\n    return;\n  }\n\n  var traverse = parentEl;\n  var triggered = false;\n\n  if (remount || (!triggered && (traverse && traverse.__redom_mounted))) {\n    trigger(childEl, remount ? 'onremount' : 'onmount');\n    triggered = true;\n  }\n\n  if (remount) {\n    return;\n  }\n\n  while (traverse) {\n    var parent = traverse.parentNode;\n    var parentHooks = traverse.__redom_lifecycle || (traverse.__redom_lifecycle = {});\n\n    for (var hook in hooks) {\n      parentHooks[hook] = (parentHooks[hook] || 0) + hooks[hook];\n    }\n\n    if (!triggered && (traverse === document || (shadowRootAvailable && (traverse instanceof window.ShadowRoot)) || (parent && parent.__redom_mounted))) {\n      trigger(traverse, remount ? 'onremount' : 'onmount');\n      triggered = true;\n    }\n\n    traverse = parent;\n  }\n};\n\nvar trigger = function (el, eventName) {\n  if (eventName === 'onmount') {\n    el.__redom_mounted = true;\n  } else if (eventName === 'onunmount') {\n    el.__redom_mounted = false;\n  }\n\n  var hooks = el.__redom_lifecycle;\n\n  if (!hooks) {\n    return;\n  }\n\n  var view = el.__redom_view;\n  var hookCount = 0;\n\n  view && view[eventName] && view[eventName]();\n\n  for (var hook in hooks) {\n    if (hook) {\n      hookCount++;\n    }\n  }\n\n  if (hookCount) {\n    var traverse = el.firstChild;\n\n    while (traverse) {\n      var next = traverse.nextSibling;\n\n      trigger(traverse, eventName);\n\n      traverse = next;\n    }\n  }\n};\n\nvar setStyle = function (view, arg1, arg2) {\n  var el = getEl(view);\n\n  if (arg2 !== undefined) {\n    el.style[arg1] = arg2;\n  } else if (isString(arg1)) {\n    el.setAttribute('style', arg1);\n  } else {\n    for (var key in arg1) {\n      setStyle(el, key, arg1[key]);\n    }\n  }\n};\n\n/* global SVGElement */\n\nvar xlinkns = 'http://www.w3.org/1999/xlink';\n\nvar setAttr = function (view, arg1, arg2) {\n  var el = getEl(view);\n  var isSVG = el instanceof SVGElement;\n\n  if (arg2 !== undefined) {\n    if (arg1 === 'style') {\n      setStyle(el, arg2);\n    } else if (isSVG && isFunction(arg2)) {\n      el[arg1] = arg2;\n    } else if (arg1 === 'dataset') {\n      setData(el, arg2);\n    } else if (!isSVG && (arg1 in el || isFunction(arg2))) {\n      el[arg1] = arg2;\n    } else {\n      if (isSVG && (arg1 === 'xlink')) {\n        setXlink(el, arg2);\n        return;\n      }\n      el.setAttribute(arg1, arg2);\n    }\n  } else {\n    for (var key in arg1) {\n      setAttr(el, key, arg1[key]);\n    }\n  }\n};\n\nfunction setXlink (el, obj) {\n  for (var key in obj) {\n    el.setAttributeNS(xlinkns, key, obj[key]);\n  }\n}\n\nfunction setData (el, obj) {\n  for (var key in obj) {\n    el.dataset[key] = obj[key];\n  }\n}\n\nvar text = function (str) { return document.createTextNode((str != null) ? str : ''); };\n\nvar parseArguments = function (element, args) {\n  for (var i = 0; i < args.length; i++) {\n    var arg = args[i];\n\n    if (arg !== 0 && !arg) {\n      continue;\n    }\n\n    // support middleware\n    if (typeof arg === 'function') {\n      arg(element);\n    } else if (isString(arg) || isNumber(arg)) {\n      element.appendChild(text(arg));\n    } else if (isNode(getEl(arg))) {\n      mount(element, arg);\n    } else if (arg.length) {\n      parseArguments(element, arg);\n    } else if (typeof arg === 'object') {\n      setAttr(element, arg);\n    }\n  }\n};\n\nvar ensureEl = function (parent) { return isString(parent) ? html(parent) : getEl(parent); };\nvar getEl = function (parent) { return (parent.nodeType && parent) || (!parent.el && parent) || getEl(parent.el); };\n\nvar isString = function (a) { return typeof a === 'string'; };\nvar isNumber = function (a) { return typeof a === 'number'; };\nvar isFunction = function (a) { return typeof a === 'function'; };\n\nvar isNode = function (a) { return a && a.nodeType; };\n\nvar htmlCache = {};\n\nvar memoizeHTML = function (query) { return htmlCache[query] || (htmlCache[query] = createElement(query)); };\n\nvar html = function (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var element;\n\n  if (isString(query)) {\n    element = memoizeHTML(query).cloneNode(false);\n  } else if (isNode(query)) {\n    element = query.cloneNode(false);\n  } else {\n    throw new Error('At least one argument required');\n  }\n\n  parseArguments(element, args);\n\n  return element;\n};\n\nhtml.extend = function (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var clone = memoizeHTML(query);\n\n  return html.bind.apply(html, [ this, clone ].concat( args ));\n};\n\nvar el = html;\nvar h = html;\n\nvar setChildren = function (parent) {\n  var children = [], len = arguments.length - 1;\n  while ( len-- > 0 ) children[ len ] = arguments[ len + 1 ];\n\n  var parentEl = getEl(parent);\n  var current = traverse(parent, children, parentEl.firstChild);\n\n  while (current) {\n    var next = current.nextSibling;\n\n    unmount(parent, current);\n\n    current = next;\n  }\n};\n\nfunction traverse (parent, children, _current) {\n  var current = _current;\n\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n\n    if (!child) {\n      continue;\n    }\n\n    var childEl = getEl(child);\n\n    if (childEl === current) {\n      current = current.nextSibling;\n      continue;\n    }\n\n    if (isNode(childEl)) {\n      mount(parent, child, current);\n      continue;\n    }\n\n    if (child.length != null) {\n      current = traverse(parent, child, current);\n    }\n  }\n\n  return current;\n}\n\nvar propKey = function (key) { return function (item) { return item[key]; }; };\n\nvar listPool = function (View, key, initData) {\n  return new ListPool(View, key, initData);\n};\n\nvar ListPool = function ListPool (View, key, initData) {\n  this.View = View;\n  this.initData = initData;\n  this.oldLookup = {};\n  this.lookup = {};\n  this.oldViews = [];\n  this.views = [];\n\n  if (key != null) {\n    this.lookup = {};\n    this.key = isFunction(key) ? key : propKey(key);\n  }\n};\nListPool.prototype.update = function update (data, context) {\n  var ref = this;\n    var View = ref.View;\n    var key = ref.key;\n    var initData = ref.initData;\n  var keySet = key != null;\n\n  var oldLookup = this.lookup;\n  var newLookup = {};\n\n  var newViews = new Array(data.length);\n  var oldViews = this.views;\n\n  for (var i = 0; i < data.length; i++) {\n    var item = data[i];\n    var view = (void 0);\n\n    if (keySet) {\n      var id = key(item);\n      view = oldLookup[id] || new View(initData, item, i, data);\n      newLookup[id] = view;\n      view.__redom_id = id;\n    } else {\n      view = oldViews[i] || new View(initData, item, i, data);\n    }\n    view.update && view.update(item, i, data, context);\n\n    var el = getEl(view.el);\n    el.__redom_view = view;\n    newViews[i] = view;\n  }\n\n  this.oldViews = oldViews;\n  this.views = newViews;\n\n  this.oldLookup = oldLookup;\n  this.lookup = newLookup;\n};\n\nvar list = function (parent, View, key, initData) {\n  return new List(parent, View, key, initData);\n};\n\nvar List = function List (parent, View, key, initData) {\n  this.__redom_list = true;\n  this.View = View;\n  this.initData = initData;\n  this.views = [];\n  this.pool = new ListPool(View, key, initData);\n  this.el = ensureEl(parent);\n  this.keySet = key != null;\n};\nList.prototype.update = function update (data, context) {\n    var this$1 = this;\n    if ( data === void 0 ) data = [];\n\n  var ref = this;\n    var keySet = ref.keySet;\n  var oldViews = this.views;\n  var oldLookup = keySet && this.lookup;\n\n  this.pool.update(data, context);\n  var ref$1 = this.pool;\n    var views = ref$1.views;\n    var lookup = ref$1.lookup;\n\n  if (keySet) {\n    for (var i = 0; i < oldViews.length; i++) {\n      var id = oldViews[i].__redom_id;\n      if (!(id in lookup)) {\n        unmount(this$1, oldLookup[id]);\n      }\n    }\n  }\n\n  setChildren(this, views);\n\n  if (keySet) {\n    this.lookup = lookup;\n  }\n  this.views = views;\n};\n\nList.extend = function (parent, View, key, initData) {\n  return List.bind(List, parent, View, key, initData);\n};\n\nlist.extend = List.extend;\n\n/* global Node */\n\nvar place = function (View, initData) {\n  return new Place(View, initData);\n};\n\nvar Place = function Place (View, initData) {\n  this.el = text('');\n  this.visible = false;\n  this.view = null;\n  this._placeholder = this.el;\n  if (View instanceof Node) {\n    this._el = View;\n  } else {\n    this._View = View;\n  }\n  this._initData = initData;\n};\nPlace.prototype.update = function update (visible, data) {\n  var placeholder = this._placeholder;\n  var parentNode = this.el.parentNode;\n\n  if (visible) {\n    if (!this.visible) {\n      if (this._el) {\n        mount(parentNode, this._el, placeholder);\n        unmount(parentNode, placeholder);\n        this.el = this._el;\n        this.visible = visible;\n        return;\n      }\n      var View = this._View;\n      var view = new View(this._initData);\n\n      this.el = getEl(view);\n      this.view = view;\n\n      mount(parentNode, view, placeholder);\n      unmount(parentNode, placeholder);\n    }\n    this.view && this.view.update && this.view.update(data);\n  } else {\n    if (this.visible) {\n      if (this._el) {\n        mount(parentNode, placeholder, this._el);\n        unmount(parentNode, this._el);\n        this.el = placeholder;\n        this.visible = visible;\n        return;\n      }\n      mount(parentNode, placeholder, this.view);\n      unmount(parentNode, this.view);\n\n      this.el = placeholder;\n      this.view = null;\n    }\n  }\n  this.visible = visible;\n};\n\nvar router = function (parent, Views, initData) {\n  return new Router(parent, Views, initData);\n};\n\nvar Router = function Router (parent, Views, initData) {\n  this.el = ensureEl(parent);\n  this.Views = Views;\n  this.initData = initData;\n};\nRouter.prototype.update = function update (route, data) {\n  if (route !== this.route) {\n    var Views = this.Views;\n    var View = Views[route];\n\n    this.route = route;\n    this.view = View && new View(this.initData, data);\n\n    setChildren(this.el, [ this.view ]);\n  }\n  this.view && this.view.update && this.view.update(data, route);\n};\n\nvar ns = 'http://www.w3.org/2000/svg';\n\nvar svgCache = {};\n\nvar memoizeSVG = function (query) { return svgCache[query] || (svgCache[query] = createElement(query, ns)); };\n\nvar svg = function (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var element;\n\n  if (isString(query)) {\n    element = memoizeSVG(query).cloneNode(false);\n  } else if (isNode(query)) {\n    element = query.cloneNode(false);\n  } else {\n    throw new Error('At least one argument required');\n  }\n\n  parseArguments(element, args);\n\n  return element;\n};\n\nsvg.extend = function (query) {\n  var clone = memoizeSVG(query);\n\n  return svg.bind(this, clone);\n};\n\nsvg.ns = ns;\n\nvar s = svg;\n\nexport { el, h, html, list, List, listPool, ListPool, mount, unmount, place, Place, router, Router, setAttr, setStyle, setChildren, s, svg, text };\n","/**\n * @param {Array} optionList An array of String or Objects {name: String, ...}\n */\nmodule.exports = function createPoll (optionList, configuration = { GRADING_LEVELS: 6 }) {\n  const { GRADING_LEVELS } = configuration\n  const normalizedOptions = normalizeOptions(optionList)\n  var votes = []\n\n  return {\n    getOptions: () => normalizedOptions,\n    getVotes: () => votes,\n    vote,\n    getScoreCount,\n    getScoreRatio,\n    getWinner,\n    isTie,\n    getSortedOptions,\n    GRADING_LEVELS\n  }\n\n  // Poll-context-bound functions\n  /**\n   * @param {Object} ratings An object with a key for each vote option. The corresponding values are the grade given for each option.\n   * Grade is an Integer and can vary between 0 and 5 (configurable, see readme)\n   */\n  function vote (ratings) {\n    const givenOptionNames = Object.keys(ratings).sort()\n    const optionNames = getOptionNames(normalizedOptions).sort()\n    // Check if the given ratings has a key for each otion\n    if (!stringArrayEqual(optionNames, givenOptionNames)) {\n      throw new Error(`Given object keys doesn't match available options :\\ngiven:    ${givenOptionNames.toString()}\\nexpected: ${optionNames}`)\n    }\n    givenOptionNames.forEach(ratingKey => {\n      const score = ratings[ratingKey]\n      if (!isScoreValid(score, GRADING_LEVELS)) {\n        throw new Error(`A score must be an Integer between 0 and ${GRADING_LEVELS - 1} (${GRADING_LEVELS} possible grades)\\ngiven score: ${score}`)\n      }\n    })\n    const votegrades = normalizedOptions.map(option => ratings[option.name], [])\n    votes.push(votegrades)\n  }\n\n  function getWinner () {\n    return getSortedOptions()[0]\n  }\n\n  function getSortedOptions () {\n    return getScoreRatio().sort((a, b) => {\n      // First, order by median grade\n      const aMedianGrade = getMedianGrade(a.scoreRatio)\n      const bMedianGrade = getMedianGrade(b.scoreRatio)\n      if (aMedianGrade !== bMedianGrade) return bMedianGrade - aMedianGrade\n\n      // Tie-break algorithm\n      // Following the process described here : https://fr.wikipedia.org/wiki/Jugement_majoritaire#D%C3%A9partage_des_%C3%A9galit%C3%A9s\n      // We list all lose/win-criterias associated with the appropriate return value, and sort them to find the highest ratio value\n      const A_LOSES = 1\n      const A_WIN = -1\n\n      const criterias = []\n      const aLoseCriteria = { ratio: getRatioBelowMedian(a.scoreRatio), returnValue: A_LOSES }\n      const bLoseCriteria = { ratio: getRatioBelowMedian(b.scoreRatio), returnValue: A_WIN }\n      const aWinCriteria = { ratio: getRatioAboveMedian(a.scoreRatio), returnValue: A_WIN }\n      const bWinCriteria = { ratio: getRatioAboveMedian(b.scoreRatio), returnValue: A_LOSES }\n\n      // If lose criteria ratios are equal, we ignore them (not strictly comarable)\n      if (aLoseCriteria.ratio !== bLoseCriteria.ratio) {\n        criterias.push(aLoseCriteria)\n        criterias.push(bLoseCriteria)\n      }\n      // If win criteria ratios are equal, we ignore them (not strictly comarable)\n      if (aWinCriteria.ratio !== bWinCriteria.ratio) {\n        criterias.push(aWinCriteria)\n        criterias.push(bWinCriteria)\n      }\n\n      const sortedCriterias = criterias.slice().sort((critA, critB) => critB.ratio - critA.ratio)\n      if (sortedCriterias.length === 0) {\n        // TODO : handle this improbable situation more gracefully\n        // by searching who benefits/loses the most in the upper/lower ratios\n        return 0\n      }\n      return sortedCriterias[0].returnValue\n    }).map(option => option.name)\n  }\n\n  function isTie () {\n    const bestGrade = getBestGrade()\n    return getScoreRatio()\n      .map(option => getMedianGrade(option.scoreRatio))\n      .filter(medianGrade => medianGrade === bestGrade).length > 1\n  }\n\n  function getBestGrade () {\n    return getScoreRatio().reduce((memo, option) => {\n      const medianGrade = getMedianGrade(option.scoreRatio)\n      memo = Math.max(medianGrade, memo)\n      return memo\n    }, 0)\n  }\n\n  /**\n   * @typedef {Object} ScoreRatioOption The return value format\n   * @property {String} name The option name\n   * @property {number[]} scoreRatio An array of ratios\n   * Returns an array of option objects { name: String, scoreRatio: Array }\n   * Each scoreRatio item represents the ratio of voters giving at least the item index score for this option\n   * @returns {ScoreRatioOption[]}\n   */\n  function getScoreRatio () {\n    return getScoreCount().map(option => {\n      const scoreRatio = option.scoreCount.map(scoreCount => scoreCount / votes.length)\n      return {\n        name: option.name,\n        scoreRatio\n      }\n    })\n  }\n\n  /**\n   * Returns an array of option objects { name: String, scoreCount: Array }\n   * Each scoreRatio item represents the amount of voters giving at least the item index score for this option\n   * @returns {Array}\n   */\n  function getScoreCount () {\n    return normalizedOptions.map((option, index) => {\n      const scoreCount = votes.reduce((memo, vote) => {\n        const givenNote = vote[index]\n        memo[givenNote] += 1\n        return memo\n      }, new Array(GRADING_LEVELS).fill(0))\n      return {\n        name: option.name,\n        scoreCount\n      }\n    })\n  }\n}\n\n// Non-context-bound functions\n\n/**\n * @param {Object[]} normalizedOptions An array of option objects with a 'name' attribute\n * @param {String} normalizedOptions.name The otion name\n * @returns {String[]} An array of each options name\n */\nfunction getOptionNames (normalizedOptions) {\n  return normalizedOptions.map(option => option.name)\n}\n\nfunction normalizeOptions (options) {\n  if (!options || !Array.isArray(options)) throw new Error('You must provide an Array of available options')\n  return options.reduce((memo, option, index) => {\n    if (typeof option === 'string') {\n      memo.push({name: option})\n      return memo\n    }\n    if (typeof option.name !== 'string') throw new Error(`Options objects must at least have a 'name' property`)\n    memo.push(Object.assign({}, option))\n    return memo\n  }, [])\n}\n\nfunction getMedianGrade (scoreRatio) {\n  let medianGrade = 0\n  for (let acc = scoreRatio[medianGrade]; acc < 0.5; acc += scoreRatio[medianGrade]) medianGrade += 1\n  return medianGrade\n}\n\nfunction isScoreValid (score, GRADING_LEVELS) {\n  return Number.isInteger(score) || score < 0 || score > (GRADING_LEVELS - 1)\n}\n\nfunction getRatioAboveMedian (scoreRatio) {\n  const medianGrade = getMedianGrade(scoreRatio)\n  return scoreRatio.reduce((memo, ratio, index) => {\n    if (index > medianGrade) memo += ratio\n    return memo\n  }, 0)\n}\n\nfunction getRatioBelowMedian (scoreRatio) {\n  const medianGrade = getMedianGrade(scoreRatio)\n  return scoreRatio.reduce((memo, ratio, index) => {\n    if (index < medianGrade) memo += ratio\n    return memo\n  }, 0)\n}\n\nfunction stringArrayEqual (array1, array2) {\n  return array1.every((value, index) => value === array2[index]) && array1.length === array2.length\n}\n","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","/*!\n * TinyGradient 0.4.0\n * Copyright 2014-2018 Damien \"Mistic\" Sorel (http://www.strangeplanet.fr)\n * Licensed under MIT (http://opensource.org/licenses/MIT)\n */\n\n(function (root, factory) {\n    if (typeof module !== \"undefined\" && module.exports) {\n        module.exports = factory(require('tinycolor2'));\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define(['tinycolor2'], factory);\n    }\n    else {\n        root.tinygradient = factory(root.tinycolor);\n    }\n}(this, function (tinycolor) {\n    \"use strict\";\n\n    var RGBA_MAX = {r: 256, g: 256, b: 256, a: 1};\n    var HSVA_MAX = {h: 360, s: 1, v: 1, a: 1};\n\n    /**\n     * Linearly compute the step size between start and end (not normalized)\n     * @param {Object} start - rgba or hsva\n     * @param {Object} end - rgba or hsva\n     * @param {int} steps - number of desired steps\n     * @return {Object} rgba or hsva\n     */\n    function stepize(start, end, steps) {\n        var step = {};\n\n        for (var k in start) {\n            if (start.hasOwnProperty(k)) {\n                step[k] = steps === 0 ? 0 : (end[k] - start[k]) / steps;\n            }\n        }\n\n        return step;\n    }\n\n    /**\n     * Compute the final step color\n     * @param {Object} step - rgba or hsva from `stepize`\n     * @param {Object} start - rgba or hsva\n     * @param {int} i - color index\n     * @param {Object} max - rgba or hsva of maximum values for each channel\n     * @return {Object} rgba or hsva\n     */\n    function interpolate(step, start, i, max) {\n        var color = {};\n\n        for (var k in start) {\n            if (start.hasOwnProperty(k)) {\n                color[k] = step[k] * i + start[k];\n                color[k] = color[k] < 0 ? color[k] + max[k] : ( max[k] !== 1 ? color[k] % max[k] : color[k] );\n            }\n        }\n\n        return color;\n    }\n\n    /**\n     * Generate gradient with RGBa interpolation\n     * @param {Object} stop1\n     * @param {Object} stop2\n     * @param {int} steps\n     * @return {tinycolor[]} color1 included, color2 excluded\n     */\n    function interpolateRgb(stop1, stop2, steps) {\n        var start = stop1.color.toRgb(),\n            end = stop2.color.toRgb(),\n            gradient = [stop1.color],\n            step = stepize(start, end, steps),\n            color;\n\n        for (var i = 1; i < steps; i++) {\n            color = interpolate(step, start, i, RGBA_MAX);\n            gradient.push(tinycolor(color));\n        }\n\n        return gradient;\n    }\n\n    /**\n     * Generate gradient with HSVa interpolation\n     * @param {Object} stop1\n     * @param {Object} stop2\n     * @param {int} steps\n     * @param {Boolean} trigonometric - true to step in trigonometric order\n     * @return {tinycolor[]} color1 included, color2 excluded\n     */\n    function interpolateHsv(stop1, stop2, steps, trigonometric) {\n        var start = stop1.color.toHsv(),\n            end = stop2.color.toHsv(),\n            gradient = [stop1.color],\n            step = stepize(start, end, steps),\n            diff, color;\n\n        // recompute hue\n        if ((start.h <= end.h && !trigonometric) || (start.h >= end.h && trigonometric)) {\n            diff = end.h - start.h;\n        }\n        else if (trigonometric) {\n            diff = 360 - end.h + start.h;\n        }\n        else {\n            diff = 360 - start.h + end.h;\n        }\n        step.h = Math.pow(-1, trigonometric ? 1 : 0) * Math.abs(diff) / steps;\n\n        for (var i = 1; i < steps; i++) {\n            color = interpolate(step, start, i, HSVA_MAX);\n            gradient.push(tinycolor(color));\n        }\n\n        return gradient;\n    }\n\n    /**\n     * Compute substeps between each stops\n     * @param {Object[]} stops\n     * @param {int} steps\n     * @return {int[]}\n     */\n    function computeSubsteps(stops, steps) {\n        var l = stops.length;\n\n        // validation\n        steps = parseInt(steps);\n\n        if (isNaN(steps) || steps < 2) {\n            throw new Error('Invalid number of steps (< 2)');\n        }\n        if (steps < l) {\n            throw new Error('Number of steps cannot be inferior to number of stops');\n        }\n\n        // compute substeps from stop positions\n        var substeps = [];\n\n        for (var i = 1; i < l; i++) {\n            var step = (steps - 1) * (stops[i].pos - stops[i - 1].pos);\n            substeps.push(Math.max(1, Math.round(step)));\n        }\n\n        // adjust number of steps\n        var totalSubsteps = 1;\n        for (var n = l - 1; n--;) totalSubsteps += substeps[n];\n\n        while (totalSubsteps !== steps) {\n            if (totalSubsteps < steps) {\n                var min = Math.min.apply(null, substeps);\n                substeps[substeps.indexOf(min)]++;\n                totalSubsteps++;\n            }\n            else {\n                var max = Math.max.apply(null, substeps);\n                substeps[substeps.indexOf(max)]--;\n                totalSubsteps--;\n            }\n        }\n\n        return substeps;\n    }\n\n    /**\n     * Compute the color at a specific position\n     * @param {Object[]} stops\n     * @param {float} pos\n     * @param {string} method\n     * @param {Object} max\n     * @returns {tinycolor}\n     */\n    function computeAt(stops, pos, method, max) {\n        if (pos < 0 || pos > 1) {\n            throw new Error('Position must be between 0 and 1');\n        }\n\n        var start, end;\n        for (var i = 0, l = stops.length; i < l - 1; i++) {\n            if (pos >= stops[i].pos && pos < stops[i + 1].pos) {\n                start = stops[i];\n                end = stops[i + 1];\n                break;\n            }\n        }\n\n        if (!start) {\n            start = end = stops[stops.length - 1];\n        }\n\n        var step = stepize(start.color[method](), end.color[method](), (end.pos - start.pos) * 100);\n        var color = interpolate(step, start.color[method](), Math.round((pos - start.pos) * 100), max);\n        return tinycolor(color);\n    }\n\n    /**\n     * @class tinygradient\n     * @param {*} stops\n     */\n    var TinyGradient = function (stops) {\n        // varargs\n        if (arguments.length === 1) {\n            if (!(arguments[0] instanceof Array)) {\n                throw new Error('\"stops\" is not an array');\n            }\n            stops = arguments[0];\n        }\n        else {\n            stops = Array.prototype.slice.call(arguments);\n        }\n\n        // if we are called as a function, call using new instead\n        if (!(this instanceof TinyGradient)) {\n            return new TinyGradient(stops);\n        }\n\n        // validation\n        if (stops.length < 2) {\n            throw new Error('Invalid number of stops (< 2)');\n        }\n\n        var havingPositions = stops[0].pos !== undefined,\n            l = stops.length,\n            p = -1;\n        // create tinycolor objects and clean positions\n        this.stops = stops.map(function (stop, i) {\n            var hasPosition = stop.pos !== undefined;\n            if (havingPositions ^ hasPosition) {\n                throw new Error('Cannot mix positionned and not posionned color stops');\n            }\n\n            if (hasPosition) {\n                stop = {\n                    color: tinycolor(stop.color),\n                    pos  : stop.pos\n                };\n\n                if (stop.pos < 0 || stop.pos > 1) {\n                    throw new Error('Color stops positions must be between 0 and 1');\n                }\n                else if (stop.pos <= p) {\n                    throw new Error('Color stops positions are not ordered');\n                }\n                p = stop.pos;\n            }\n            else {\n                stop = {\n                    color: tinycolor(stop),\n                    pos  : i / (l - 1)\n                };\n            }\n\n            return stop;\n        });\n\n        if (this.stops[0].pos !== 0) {\n            this.stops.unshift({\n                color: this.stops[0].color,\n                pos  : 0\n            });\n        }\n        if (this.stops[this.stops.length - 1].pos !== 1) {\n            this.stops.push({\n                color: this.stops[this.stops.length - 1].color,\n                pos  : 1\n            });\n        }\n    };\n\n    /**\n     * Return new instance with reversed stops\n     * @return {tinygradient}\n     */\n    TinyGradient.prototype.reverse = function () {\n        var stops = [];\n\n        this.stops.forEach(function (stop) {\n            stops.push({\n                color: stop.color,\n                pos  : 1 - stop.pos\n            });\n        });\n\n        return new TinyGradient(stops.reverse());\n    };\n\n    /**\n     * Generate gradient with RGBa interpolation\n     * @param {int} steps\n     * @return {tinycolor[]}\n     */\n    TinyGradient.prototype.rgb = function (steps) {\n        var substeps = computeSubsteps(this.stops, steps),\n            gradient = [];\n\n        for (var i = 0, l = this.stops.length; i < l - 1; i++) {\n            gradient = gradient.concat(interpolateRgb(this.stops[i], this.stops[i + 1], substeps[i]));\n        }\n\n        gradient.push(this.stops[l - 1].color);\n\n        return gradient;\n    };\n\n    /**\n     * Generate gradient with HSVa interpolation\n     * @param {int} steps\n     * @param {Boolean|String} [mode=false]\n     *    - false to step in clockwise\n     *    - true to step in trigonometric order\n     *    - 'short' to use the shortest way\n     *    - 'long' to use the longest way\n     * @return {tinycolor[]}\n     */\n    TinyGradient.prototype.hsv = function (steps, mode) {\n        var substeps = computeSubsteps(this.stops, steps),\n            trigonometric = mode === true,\n            parametrized = typeof mode === 'string',\n            gradient = [],\n            start, end, trig;\n\n        for (var i = 0, l = this.stops.length; i < l - 1; i++) {\n            start = this.stops[i].color.toHsv();\n            end = this.stops[i + 1].color.toHsv();\n\n            if (parametrized) {\n                trig = (start.h < end.h && end.h - start.h < 180) || (start.h > end.h && start.h - end.h > 180);\n            }\n\n            // rgb interpolation if one of the steps in grayscale\n            if (start.s === 0 || end.s === 0) {\n                gradient = gradient.concat(interpolateRgb(this.stops[i], this.stops[i + 1], substeps[i]));\n            }\n            else {\n                gradient = gradient.concat(interpolateHsv(this.stops[i], this.stops[i + 1], substeps[i],\n                    (mode === 'long' && trig) || (mode === 'short' && !trig) || (!parametrized && trigonometric)\n                ));\n            }\n        }\n\n        gradient.push(this.stops[l - 1].color);\n\n        return gradient;\n    };\n\n    /**\n     * Generate CSS3 command (no prefix) for this gradient\n     * @param {String} [mode=linear] - 'linear' or 'radial'\n     * @param {String} [direction] - default is 'to right' or 'ellipse at center'\n     * @return {String}\n     */\n    TinyGradient.prototype.css = function (mode, direction) {\n        mode = mode || 'linear';\n        direction = direction || (mode === 'linear' ? 'to right' : 'ellipse at center');\n\n        var css = mode + '-gradient(' + direction;\n        this.stops.forEach(function (stop) {\n            css += ', ' + stop.color.toRgbString() + ' ' + (stop.pos * 100) + '%';\n        });\n        css += ')';\n        return css;\n    };\n\n    /**\n     * Returns the color at specific position with RGBa interpolation\n     * @param {float} pos, between 0 and 1\n     * @return {tinycolor}\n     */\n    TinyGradient.prototype.rgbAt = function (pos) {\n        return computeAt(this.stops, pos, 'toRgb', RGBA_MAX);\n    };\n\n    /**\n     * Returns the color at specific position with HSVa interpolation\n     * @param {float} pos, between 0 and 1\n     * @return {tinycolor}\n     */\n    TinyGradient.prototype.hsvAt = function (pos) {\n        return computeAt(this.stops, pos, 'toHsv', HSVA_MAX);\n    };\n\n    var STATIC_FNS = {\n        'rgb'  : 1,\n        'hsv'  : 2,\n        'css'  : 2,\n        'rgbAt': 1,\n        'hsvAt': 1\n    };\n\n    Object.keys(STATIC_FNS).forEach(function (fn) {\n        TinyGradient[fn] = function () {\n            var colors = Array.prototype.slice.call(arguments);\n            var args = colors.splice(-STATIC_FNS[fn]);\n            var gradient = new TinyGradient(colors);\n            return gradient[fn].apply(gradient, args);\n        };\n    });\n\n    // export\n    return TinyGradient;\n}));","const { el, list, text } = require('redom')\nconst tinygradient = require('tinygradient')\n\nclass App {\n  constructor (majuPoll) {\n    this.majuPoll = majuPoll\n    this.winner = el('h1')\n    this.winner.style.fontFamily = 'Arial'\n    this.scoreCardList = list('div', ScoreCard)\n    this.voteForm = new VoteForm({\n      voteCallback: (voteObject) => {\n        this.majuPoll.vote(voteObject)\n        this.update(this.majuPoll.getScoreRatio())\n      },\n      optionNames: this.majuPoll.getOptions().map(option => option.name),\n      gradingLevels: majuPoll.GRADING_LEVELS\n    })\n    this.el = el('div',\n      [this.winner, this.scoreCardList, el('div', { style: { clear: 'left' } }), this.voteForm],\n      { style: appStyle }\n    )\n  }\n  update (data) {\n    this.scoreCardList.update(data.map(option => Object.assign({}, option, { height: 300, width: 35 })))\n    this.voteForm.update({\n      optionNames: this.majuPoll.getOptions().map(option => option.name),\n      gradingLevels: this.majuPoll.GRADING_LEVELS\n    })\n    this.winner.textContent = `Winner: ${this.majuPoll.getWinner()}`\n  }\n}\n\n// Score display\n\nclass ScoreCard {\n  constructor () {\n    this.name = text('')\n    this.graph = new ScoreGraph()\n    this.el = el('div', [this.name, this.graph], {style: scoreCardStyle})\n  }\n  update (data, index, items, context) {\n    this.graph.update(data)\n    this.name.textContent = data.name\n  }\n}\n\nclass ScoreGraph {\n  constructor () {\n    this.gradeGraphList = list('div', GradeGraph)\n    this.medianLine = el('div', { style: medianLineStyle })\n    this.el = el('div', [\n      this.gradeGraphList,\n      this.medianLine\n    ], { style: { position: 'relative', marginTop: '10px' } })\n  }\n  update (data) {\n    this.medianLine.style.width = `${data.width}px`\n    this.medianLine.style.left = `calc(50% - ${data.width / 2}px`\n    const gradient = tinygradient(['#88FF88', '#880000'])\n    const tinycolors = gradient.hsv(data.scoreRatio.length, true)\n    const colors = tinycolors.map(tinycolor => tinycolor.toHexString())\n    this.gradeGraphList.update(data.scoreRatio.slice().reverse(), {\n      width: data.width,\n      height: data.height,\n      colors\n    })\n  }\n}\n\nclass GradeGraph {\n  constructor () {\n    this.value = el('div', {style: {\n      textAlign: 'center'\n    }})\n    this.el = el('div', this.value)\n  }\n  update (data, index, items, context) {\n    this.value.textContent = `${data * 100}`.slice(0, 4) + '%'\n    this.value.style.lineHeight = `${data * context.height}px`\n    Object.assign(this.el.style, {\n      backgroundColor: context.colors[index],\n      width: `${context.width}px`,\n      height: `${data * context.height}px`,\n      left: `calc(50% - ${context.width / 2}px)`,\n      position: 'relative',\n      verticalAlign: 'middle',\n      fontSize: '11px'\n    })\n  }\n}\n\n// Vote input\n\nclass VoteForm {\n  constructor ({ voteCallback, optionNames, gradingLevels }) {\n    this.voteCallback = voteCallback\n    this.optionNames = optionNames\n    this.gradingLevels = gradingLevels\n    this.selectedValues = optionNames.reduce((memo, optionName) => {\n      memo[optionName] = null\n      return memo\n    }, {})\n    this.optionRateFormList = list('div', OptionRateForm)\n    this.submitButton = el('button', {\n      style: Object.assign({}, cardStyle, { cursor: 'pointer', marginTop: '10px' }),\n      textContent: 'Vote !'\n    })\n    this.submitButton.addEventListener('click', event => {\n      const voteObject = this.optionRateFormList.views.reduce((memo, view) => {\n        memo[view.name.textContent] = view.selectedValue\n        return memo\n      }, {})\n      voteCallback(voteObject)\n    })\n    this.el = el('div', [this.optionRateFormList, this.submitButton], {style: Object.assign({}, cardStyle, {\n      maxWidth: '500px'\n    })})\n  }\n  updateSelectedValue (optionName, value) {\n    this.selectedValues[optionName] = value\n    this.update()\n  }\n  update () {\n    this.optionRateFormList.update(this.optionNames.map(optionName => ({\n      name: optionName,\n      selectedValue: this.selectedValues[optionName]\n    })), {\n      gradingLevels: this.gradingLevels,\n      updateCallback: this.updateSelectedValue.bind(this)\n    })\n  }\n}\n\nclass OptionRateForm {\n  constructor () {\n    this.name = el('div', {style: {\n      float: 'left',\n      width: '100px',\n      height: '50px',\n      textAlign: 'center',\n      verticalAlign: 'middle',\n      lineHeight: '50px',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap'\n    }})\n    this.gradeBoxList = list('div', GradeBox)\n    Object.assign(this.gradeBoxList.el.style, {\n      display: 'grid',\n      gridAutoRows: 'minmax(50px, auto)',\n      gridTemplateColumns: 'repeat(6; 1fr)',\n      gridColumnGap: '5px'\n    })\n    this.el = el('div', [this.name, this.gradeBoxList], {style: {\n      backgroundColor: 'lightgrey'\n    }})\n  }\n  update ({ name, selectedValue }, index, items, { gradingLevels, updateCallback }) {\n    this.selectedValue = selectedValue\n    this.gradeBoxList.update(new Array(gradingLevels).fill(name), { selectedValue, updateCallback })\n    this.name.textContent = name\n    this.name.title = name\n  }\n}\n\nclass GradeBox {\n  constructor () {\n    this.el = el('div', {style: {\n      width: '40px',\n      height: '40px',\n      margin: 'auto',\n      cursor: 'pointer'\n    }})\n  }\n  onmount () {\n    this.el.addEventListener('click', event => {\n      this.updateCallback(this.name, this.value)\n    })\n  }\n  update (data, index, items, { selectedValue, updateCallback }) {\n    this.updateCallback = updateCallback\n    this.name = data\n    this.value = index\n    this.el.style.gridColumn = index + 1\n    this.el.style.backgroundColor = this.value === selectedValue ? 'black' : 'white'\n  }\n}\n\nmodule.exports = {\n  App\n}\n\n// Style\nconst cardStyle = {\n  backgroundColor: 'white',\n  padding: '10px',\n  boxShadow: '0 0 7px black',\n  border: '1px solid lightgrey',\n  borderRadius: '3px'\n}\n\nconst scoreCardStyle = Object.assign({}, cardStyle, {\n  float: 'left',\n  margin: '10px',\n  paddingBottom: '10px'\n})\n\nconst appStyle = { fontFamily: 'Arial' }\n\nconst medianLineStyle = {\n  height: '1px',\n  position: 'absolute',\n  top: '50%',\n  backgroundColor: 'black'\n}\n","const { mount } = require('redom')\nconst createPoll = require('../index')\nconst { App } = require('./components')\n\nconst myPoll = createPoll(['Matrix', 'Terminator', 'Stargate', 'Ghostbusters'])\nmyPoll.vote({ Matrix: 5, Stargate: 1, Ghostbusters: 0, Terminator: 1 })\nmyPoll.vote({ Matrix: 1, Stargate: 3, Ghostbusters: 1, Terminator: 0 })\nmyPoll.vote({ Matrix: 2, Stargate: 3, Ghostbusters: 5, Terminator: 3 })\nmyPoll.vote({ Matrix: 3, Stargate: 0, Ghostbusters: 3, Terminator: 5 })\nmyPoll.vote({ Matrix: 5, Stargate: 2, Ghostbusters: 4, Terminator: 2 })\nmyPoll.vote({ Matrix: 4, Stargate: 3, Ghostbusters: 0, Terminator: 0 })\nmyPoll.vote({ Matrix: 2, Stargate: 3, Ghostbusters: 5, Terminator: 4 })\nmyPoll.vote({ Matrix: 0, Stargate: 0, Ghostbusters: 3, Terminator: 5 })\nmyPoll.vote({ Matrix: 5, Stargate: 1, Ghostbusters: 0, Terminator: 3 })\nmyPoll.vote({ Matrix: 3, Stargate: 4, Ghostbusters: 2, Terminator: 4 })\nmyPoll.vote({ Matrix: 2, Stargate: 3, Ghostbusters: 4, Terminator: 3 })\nmyPoll.vote({ Matrix: 4, Stargate: 5, Ghostbusters: 3, Terminator: 5 })\nconsole.log('getSortedOptions()', myPoll.getSortedOptions())\nconsole.log('And the winner is !', myPoll.getWinner())\n\nif (typeof document !== 'undefined') {\n  document.body.innerHTML = ''\n  const app = new App(myPoll)\n  app.update(myPoll.getScoreRatio())\n  mount(document.body, app)\n}\n"]}